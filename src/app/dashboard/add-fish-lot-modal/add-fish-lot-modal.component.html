<div class="modal-overlay" (click)="onClose()">
    <div class="modal-container" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <div class="header-content">
                <div class="icon-wrapper">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 3C7 3 3 7 3 12C3 17 7 21 12 21C17 21 21 17 21 12C21 7 17 3 12 3Z" stroke="#2563EB"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M16 8L13 11L11 12.5L8 16" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M16 16L13.5 13.5" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <div class="title-section">
                    <h2>Add New Fish Lot</h2>
                    <p>Enter the details for the new fish lot below.</p>
                </div>
            </div>
            <button class="close-btn" (click)="onClose()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="#6B7280" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
        </div>

        <form [formGroup]="lotForm" (ngSubmit)="onSubmit()">
            <div class="form-grid">
                <div class="form-group">
                    <label for="fishType">Fish Type *</label>
                    <select id="fishType" formControlName="fishType"
                        [class.error]="lotForm.get('fishType')?.invalid && lotForm.get('fishType')?.touched">
                        <option value="" disabled selected>Select fish type</option>
                        <option *ngFor="let type of fishTypes" [value]="type">{{type}}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="qualityGrade">Quality Grade *</label>
                    <select id="qualityGrade" formControlName="qualityGrade"
                        [class.error]="lotForm.get('qualityGrade')?.invalid && lotForm.get('qualityGrade')?.touched">
                        <option value="" disabled selected>Select grade</option>
                        <option *ngFor="let grade of qualityGrades" [value]="grade">{{grade}}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="weight">Weight (kg) *</label>
                    <input type="number" id="weight" formControlName="weight" placeholder="e.g. 50"
                        [class.error]="lotForm.get('weight')?.invalid && lotForm.get('weight')?.touched">
                </div>

                <div class="form-group">
                    <label for="price">Price per kg ($) *</label>
                    <input type="number" id="price" formControlName="price" placeholder="e.g. 12.50"
                        [class.error]="lotForm.get('price')?.invalid && lotForm.get('price')?.touched">
                </div>

                <div class="form-group">
                    <label for="catchDate">Catch Date</label>
                    <div class="date-input-wrapper">
                        <input type="date" id="catchDate" formControlName="catchDate" placeholder="mm/dd/yyyy">
                        <!-- <svg class="calendar-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="#6B7280" stroke-width="2"/>
                <line x1="16" y1="2" x2="16" y2="6" stroke="#6B7280" stroke-width="2"/>
                <line x1="8" y1="2" x2="8" y2="6" stroke="#6B7280" stroke-width="2"/>
                <line x1="3" y1="10" x2="21" y2="10" stroke="#6B7280" stroke-width="2"/>
             </svg> -->
                    </div>
                </div>

                <div class="form-group">
                    <label for="catchLocation">Catch Location</label>
                    <input type="text" id="catchLocation" formControlName="catchLocation"
                        placeholder="e.g. North Atlantic">
                </div>
            </div>

            <div class="form-group full-width">
                <label for="notes">Additional Notes</label>
                <textarea id="notes" formControlName="notes" rows="4"
                    placeholder="Any special notes about this lot..."></textarea>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn-cancel" (click)="onClose()">Cancel</button>
                <button type="submit" class="btn-submit">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 3.33334V12.6667" stroke="white" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M3.33334 8H12.6667" stroke="white" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                    Add Lot
                </button>
            </div>
        </form>
    </div>
</div>